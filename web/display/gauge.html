<html>
	<?php include ("display/gaugevalues.php"); ?>
<script src="/openWB/web/display/gauge.min.js"></script>
<script src="/openWB/web/display/alllive.js"></script>
      <link rel="stylesheet" href="/openWB/web/display/pin.css">

<input hidden name="" id="displayevumax" value="<?php echo $displayevumaxold ; ?>" />
<input hidden name="" id="displaypvmax" value="<?php echo $displaypvmaxold ; ?>" />
<input hidden name="" id="displayspeichermax" value="<?php echo $displayspeichermaxold ; ?>" />
<input hidden name="" id="displayhausanzeigen" value="<?php echo $displayhausanzeigenold ; ?>" />
<input hidden name="" id="displayhausmax" value="<?php echo $displayhausmaxold ; ?>" />
<input hidden name="" id="displaylp1max" value="<?php echo $displaylp1maxold ; ?>" />
<input hidden name="" id="displaylp2max" value="<?php echo $displaylp2maxold ; ?>" />
<input hidden name="" id="displaypinaktiv" value="<?php echo $displaypinaktivold ; ?>" />
<input hidden name="" id="displaypincode" value="<?php echo $displaypincodeold ; ?>" />



<div style="font-size: 12px; height: 20px; top: 0px; left: 0px; text-align:center; position: absolute; width: 65px; color: white;">Beta</div>
<canvas id="evu" style="height: 200px; top: -50px; left: 0px; position: absolute; width: 265px;"></canvas>
<div id="evut" style="font-size: 15px; height: 200px; top: 100px; left: 0px; position: absolute; width: 265px; color: white; text-align:center;">0</div>
<div style="font-size: 15px; height: 200px; top: 75px; left: 0px; text-align:center; position: absolute; width: 265px; color: white;">EVU</div>

<canvas id="pv" style="height: 200px; top: -50px; left: 265px; position: absolute; width: 265px;"></canvas>
<div id="pvt" style="font-size: 15px; height: 200px; top: 100px; left: 265px; text-align:center; position: absolute; width: 265px; color: white;">0</div>
<div style="font-size: 15px; height: 200px; top: 75px; left: 265px; text-align:center; position: absolute; width: 265px; color: white;">PV</div>
<div id="speicherstatdiv">
<canvas id="speicher" style="height: 200px; top: -50px; left: 530px; position: absolute; width: 265px;"></canvas>
<div id="speichert" style="font-size: 15px; height: 200px; top: 100px; left: 530px; text-align:center; position: absolute; width: 265px; color: white;">0</div>
<div style="font-size: 15px; height: 200px; top: 75px; left: 530px; text-align:center; position: absolute; width: 265px; color: white;">Speicher</div>
<canvas id="speichers" style="height: 200px; top: -50px; left: 530px; position: absolute; width: 265px;"></canvas>
<div id="speicherst" style="font-size: 15px; height: 100px; top: 60px; left: 530px; text-align:center; position: absolute; width: 265px; color: white;"></div>
</div>
<div id="hausanzeigen">
	<canvas id="haus" style="height: 200px; top: 120px; left: 0px; position: absolute; width: 265px;"></canvas>
	<div id="haust" style="font-size: 15px; height: 200px; top: 270px; left: 0px; text-align:center; position: absolute; width: 265px; color: white;">0</div>
	<div style="font-size: 15px; height: 200px; top: 250px; left: 0px; text-align:center; position: absolute; width: 265px; color: white;">Hausverbrauch</div>
</div>

<canvas id="lp1" style="height: 200px; top: 120px; left: 265px; position: absolute; width: 265px;"></canvas>
<div id="lp1t" style="font-size: 15px; height: 200px; top: 270px; left: 265px; text-align:center; position: absolute; width: 265px; color: white;">0</div>
<div style="font-size: 15px; height: 200px; top: 250px; left: 265px; text-align:center; position: absolute; width: 265px; color: white;"><?php echo $lp1nameold ?><span id="plugstatlp1div"></div>
<canvas id="lp1s" style="height: 200px; top: 120px; left: 265px; position: absolute; width: 265px;"></canvas>
<div id="lp1st" style="font-size: 15px; height: 200px; top: 230px; left: 265px; text-align:center; position: absolute; width: 265px; color: white;">0</div>


<canvas id="lp2" style="height: 200px; top: 120px; left: 530px; position: absolute; width: 265px;"></canvas>

<div id="lp2t" style="15px; height: 100px; top: 270px; left: 530px; text-align:center; position: absolute; width: 265px; color: white;"></div>
<div style="font-size: 15px; height: 100px; top: 250px; left: 530px; text-align:center; position: absolute; width: 265px; color: white;"><?php echo $lp2nameold ?><span id="plugstatlp2div"></div>
<canvas id="lp2s" style="height: 200px; top: 120px; left: 530px; position: absolute; width: 265px;"></canvas>
<div id="lp2st" style="15px; height: 100px; top: 230px; left: 530px; text-align:center; position: absolute; width: 265px; color: white;"></div>

<div class="row col-xs-12 text-center" style="font-size: 15px; height: 20px; top: 320px; left: 0px; position: absolute; width: 820px; color: white; text-align:center;"> 


        <div class="row"> 
	        <div id="lastregelungaktivdiv" class="col-xs-12 text-center" style="color:#990000;font-size: 30px"> 
                </div> 
        </div> 														 
</div>
<div class="row col-xs-12 text-center" style="font-size: 15px; height: 20px; top: 320px; left: 50px; position: absolute; width: 800px; color: white; text-align:center;"> 

    
        <div class=" col-xs-2"> 
		<a href="display/tagesgraph.php" class="btn btn-block btn-blue">Tagesgraph</a>
                </div> 
        </div> 														 
</div>
<div class="row">
<div class="container" style="left:20px;bottom:0px;position:absolute;">
	<div class="col-xs-3 text-center">
		<div class="actstat">
			<input type="submit" class="1sofort btn btn-lg btn-block" style="font-size: 2vw" name="sofort" value="Sofort Laden">
	
		</div>
	</div>

	<div class="col-xs-2 text-center">
		<div class="actstat4">
			<input type="submit" class="1standby btn btn-lg btn-block" style="font-size: 2vw" name="standby" value="Standby">
		</div>
	</div>
	<div class="col-xs-2 text-center">
		<div class="actstat3">
			<input type="submit" class="1stop btn btn-lg btn-block" style="font-size: 2vw" name="stop" value="Stop">
		</div>
	</div>
	<div class="col-xs-2 text-center">
		<div class="actstat1">
			<input type="submit" class="1minpv btn btn-lg btn-block" style="font-size: 2vw" name="minpv" value="Min + PV">
	
		</div>
	</div>
	<div class="col-xs-3 text-center">
		<div class="actstat2">
			<input type="submit" class="1nurpv btn btn-lg btn-block" style="font-size: 2vw" name="nurpv" value="Nur PV">
	
		</div>
	</div>
</div>
<div id="pin">
  <div class="dots">
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
  </div>
  <p>PIN</p>
  <div class="numbers">
    <div class="number">1</div>
    <div class="number">2</div>
    <div class="number">3</div>
    <div class="number">4</div>
    <div class="number">5</div>
    <div class="number">6</div>
    <div class="number">7</div>
    <div class="number">8</div>
    <div class="number">9</div>
  </div>
</div>


<script>
	        $('#pin').hide();
	var displayhausmax = <?php echo $displayhausmaxold ?>;
	var displaylp2max = <?php echo $displaylp2maxold ?>;
	var displaylp1max = <?php echo $displaylp1maxold ?>;
	var displaypvmax = <?php echo $displaypvmaxold ?>;
	var displayevumax = <?php echo $displayevumaxold ?>;
	var displayspeichermax = <?php echo $displayspeichermaxold ?>;
	var displayhausanzeigen = <?php echo $displayhausanzeigenold ?>;
	var displaypincode = <?php echo $displaypincodeold ?>;
	var displaypinaktiv = <?php echo $displaypinaktivold ?>;
    if ( displayhausanzeigen == '1') {
        $('#hausanzeigen').show();
    } else {
        $('#hausanzeigen').hide();

    }




var displaylock = 1;

	function execnurpv(){
	    var ajaxurl = 'tools/changelademodusd.php?pvuberschuss=1';
	    $.post(ajaxurl, 'nurpv', function (response) {
                $('.actstat2 .btn').addClass("btn-green");
                $('.actstat3 .btn').addClass("btn-red");
                $('.actstat .btn').addClass("btn-red");
                $('.actstat1 .btn').addClass("btn-red");
                $('.actstat .btn').removeClass("btn-green");
                $('.actstat2 .btn').removeClass("btn-red");
                $('.actstat3 .btn').removeClass("btn-green");
                $('.actstat1 .btn').removeClass("btn-green");
                $('.actstat4 .btn').addClass("btn-red");
                $('.actstat4 .btn').removeClass("btn-green");
	    });
	}

	function execminpv(){
	    var ajaxurl = 'tools/changelademodusd.php?minundpv=1';
	    $.post(ajaxurl, 'minpv', function (response) {
                $('.actstat2 .btn').addClass("btn-red");
                $('.actstat3 .btn').addClass("btn-red");
                $('.actstat .btn').addClass("btn-red");
                $('.actstat1 .btn').addClass("btn-green");
                $('.actstat .btn').removeClass("btn-green");
                $('.actstat2 .btn').removeClass("btn-green");
                $('.actstat3 .btn').removeClass("btn-green");
                $('.actstat1 .btn').removeClass("btn-red");
                $('.actstat4 .btn').addClass("btn-red");
                $('.actstat4 .btn').removeClass("btn-green");
	    });
	}

	function execstop(){
	    var ajaxurl = 'tools/changelademodusd.php?stop=1';
	    $.post(ajaxurl, 'stop', function (response) {
                $('.actstat2 .btn').addClass("btn-red");
                $('.actstat3 .btn').addClass("btn-green");
                $('.actstat .btn').addClass("btn-red");
                $('.actstat1 .btn').addClass("btn-red");
                $('.actstat .btn').removeClass("btn-green");
                $('.actstat2 .btn').removeClass("btn-green");
                $('.actstat3 .btn').removeClass("btn-red");
                $('.actstat1 .btn').removeClass("btn-green");
                $('.actstat4 .btn').addClass("btn-red");
                $('.actstat4 .btn').removeClass("btn-green");
	    });
	}


	function execstandby(){
	    var ajaxurl = 'tools/changelademodusd.php?semistop=1';
	    $.post(ajaxurl, 'standby', function (response) {
                $('.actstat2 .btn').addClass("btn-red");
                $('.actstat3 .btn').addClass("btn-red");
                $('.actstat .btn').addClass("btn-red");
                $('.actstat1 .btn').addClass("btn-red");
                $('.actstat .btn').removeClass("btn-green");
                $('.actstat2 .btn').removeClass("btn-green");
                $('.actstat3 .btn').removeClass("btn-green");
                $('.actstat1 .btn').removeClass("btn-green");
                $('.actstat4 .btn').addClass("btn-green");
                $('.actstat4 .btn').removeClass("btn-red");


	    });
	}
	function execsofort(){
	    var ajaxurl = 'tools/changelademodusd.php?jetzt=1';
	    $.post(ajaxurl, 'sofort', function (response) {
                $('.actstat2 .btn').addClass("btn-red");
                $('.actstat3 .btn').addClass("btn-red");
                $('.actstat .btn').addClass("btn-green");
                $('.actstat1 .btn').addClass("btn-red");
                $('.actstat .btn').removeClass("btn-red");
                $('.actstat2 .btn').removeClass("btn-green");
                $('.actstat3 .btn').removeClass("btn-green");
                $('.actstat1 .btn').removeClass("btn-green");
                $('.actstat4 .btn').addClass("btn-red");
                $('.actstat4 .btn').removeClass("btn-green");
	    });
	}
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.24, // The line thickness
  radiusScale: 0.67, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0.1, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: true,     // If false, max value increases automatically if value > maxValue
  limitMin: true,     // If true, the min value of the gauge will be fixed
  //colorStart: 'green',   // Colors
  //colorStop: 'red',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
  percentColors: [[0.0, "#00FF00" ], [1.0, "#FF0000"]],
  generateGradient: true,
		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [displayevumax * -1, 0, displayevumax],  // Print labels at these values
		color: "#FFFFFF",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		},
	       staticZones: [
	          {strokeStyle: "#F03E3E", min: 2000, max: 30000}, // Red from 100 to 130
      {strokeStyle: "#FFDD00", min: 0, max: 2000}, // Yellow
   {strokeStyle: "#30B32D", min: -20000, max: 0}, // Green
],  
};
var target = document.getElementById('evu'); // your canvas element
var gauge = new Gauge(target).setOptions(opts); // create sexy gauge!
gauge.maxValue = displayevumax; // set max gauge value
gauge.setMinValue(displayevumax * -1);  // Prefer setter over gauge.minValue = 0
gauge.animationSpeed = 50; // set animation speed (32 is default value)

gauge.set(0); // set actual value
////////////////////////////
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.24, // The line thickness
  radiusScale: 0.67, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: false,     // If false, max value increases automatically if value > maxValue
  limitMin: true,     // If true, the min value of the gauge will be fixed
  colorStart: 'green',   // Colors
  colorStop: 'green',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
  percentColors: [[0.0, "#20610f" ], [1.0, "#00FF00"]],
  generateGradient: true,
		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [0, displaypvmax],  // Print labels at these values
		color: "white",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		}, 
};
var targetpv = document.getElementById('pv'); // your canvas element
var gaugepv = new Gauge(targetpv).setOptions(opts); // create sexy gauge!
gaugepv.maxValue = displaypvmax; // set max gauge value
gaugepv.setMinValue(0);  // Prefer setter over gauge.minValue = 0
gaugepv.animationSpeed = 5; // set animation speed (32 is default value)
gaugepv.set(000); // set actual value
////////////////////////
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.24, // The line thickness
  radiusScale: 0.67, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0.1, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: true,     // If false, max value increases automatically if value > maxValue
  limitMin: true,     // If true, the min value of the gauge will be fixed
  colorStart: '#6FADCF',   // Colors
  colorStop: '#8FC0DA',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
 percentColors: [[0.0, "#FF0000" ], [0.5, "#FFFF00"],[1.0, "#00FF00"]],
  generateGradient: true,
		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [displayspeichermax * -1, 0, displayspeichermax],  // Print labels at these values
		color: "white",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		}, 
	       staticZones: [
	          {strokeStyle: "#F03E3E", min: displayspeichermax * -1, max: -300}, // Red from 100 to 130
      {strokeStyle: "#FFDD00", min: -300, max: 0}, // Yellow
   {strokeStyle: "#30B32D", min: 0, max: displayspeichermax}, // Green
],  
};
var targetspeicher = document.getElementById('speicher'); // your canvas element
var gaugespeicher = new Gauge(targetspeicher).setOptions(opts); // create sexy gauge!
gaugespeicher.maxValue = displayspeichermax; // set max gauge value
gaugespeicher.setMinValue(displayspeichermax * -1);  // Prefer setter over gauge.minValue = 0
gaugespeicher.animationSpeed = 5; // set animation speed (32 is default value)
gaugespeicher.set(0); // set actual value
///////////////////
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.08, // The line thickness
  radiusScale: 0.5, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: false,     // If false, max value increases automatically if value > maxValue
  limitMin: false,     // If true, the min value of the gauge will be fixed
  colorStart: '#6FADCF',   // Colors
  colorStop: '#8FC0DA',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
  generateGradient: true,
percentColors: [[0.0, "#73c0FF" ], [1.0, "#0000FF"]],
		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [0, 100],  // Print labels at these values
		color: "white",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		}, 
};
var targetspeichers = document.getElementById('speichers'); // your canvas element
var gaugespeichers = new Gauge(targetspeichers).setOptions(opts); // create sexy gauge!
gaugespeichers.maxValue = 100; // set max gauge value
gaugespeichers.setMinValue(0);  // Prefer setter over gauge.minValue = 0
gaugespeichers.animationSpeed = 5; // set animation speed (32 is default value)
gaugespeichers.set(70); // set actual value


////////////////////
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.24, // The line thickness
  radiusScale: 0.67, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: false,     // If false, max value increases automatically if value > maxValue
  limitMin: false,     // If true, the min value of the gauge will be fixed
  colorStart: '#6EFFF8',   // Colors
  colorStop: '#6EFFF8',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
  generateGradient: true,
		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [0, (displayhausmax / 2), displayhausmax],  // Print labels at these values
		color: "white",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		}, 
};
var targethaus = document.getElementById('haus'); // your canvas element
var gaugehaus = new Gauge(targethaus).setOptions(opts); // create sexy gauge!
gaugehaus.maxValue = displayhausmax; // set max gauge value
gaugehaus.setMinValue(0);  // Prefer setter over gauge.minValue = 0
gaugehaus.animationSpeed = 5; // set animation speed (32 is default value)
gaugehaus.set(0); // set actual value
/////////////////////////
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.24, // The line thickness
  radiusScale: 0.67, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: false,     // If false, max value increases automatically if value > maxValue
  limitMin: false,     // If true, the min value of the gauge will be fixed
  colorStart: '#6FADCF',   // Colors
  colorStop: '#8FC0DA',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
  generateGradient: true,
percentColors: [[0.0, "#73c0FF" ], [1.0, "#0000FF"]],
		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [0, displaylp1max],  // Print labels at these values
		color: "white",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		}, 
};
var targetlp1 = document.getElementById('lp1'); // your canvas element
var gaugelp1 = new Gauge(targetlp1).setOptions(opts); // create sexy gauge!
gaugelp1.maxValue = displaylp1max; // set max gauge value
gaugelp1.setMinValue(0);  // Prefer setter over gauge.minValue = 0
gaugelp1.animationSpeed = 5; // set animation speed (32 is default value)
gaugelp1.set(0); // set actual value
/////////////////////////
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.08, // The line thickness
  radiusScale: 0.5, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: false,     // If false, max value increases automatically if value > maxValue
  limitMin: false,     // If true, the min value of the gauge will be fixed
  colorStart: '#6FADCF',   // Colors
  colorStop: '#8FC0DA',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
  generateGradient: true,
percentColors: [[0.0, "#73c0FF" ], [1.0, "#0000FF"]],
		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [0, 100],  // Print labels at these values
		color: "white",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		}, 
};
var targetlp1s = document.getElementById('lp1s'); // your canvas element
var gaugelp1s = new Gauge(targetlp1s).setOptions(opts); // create sexy gauge!
gaugelp1s.maxValue = 100; // set max gauge value
gaugelp1s.setMinValue(0);  // Prefer setter over gauge.minValue = 0
gaugelp1s.animationSpeed = 5; // set animation speed (32 is default value)
gaugelp1s.set(70); // set actual value
////////////////////
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.24, // The line thickness
  radiusScale: 0.67, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: false,     // If false, max value increases automatically if value > maxValue
  limitMin: false,     // If true, the min value of the gauge will be fixed
  colorStart: '#6FADCF',   // Colors
  colorStop: '#8FC0DA',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
  generateGradient: true,
percentColors: [[0.0, "#73c0FF" ], [1.0, "#0000FF"]],

		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [0, displaylp2max],  // Print labels at these values
		color: "white",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		}, 
};
var targetlp2 = document.getElementById('lp2'); // your canvas element
var gaugelp2 = new Gauge(targetlp2).setOptions(opts); // create sexy gauge!
gaugelp2.maxValue = displaylp2max; // set max gauge value
gaugelp2.setMinValue(0);  // Prefer setter over gauge.minValue = 0
gaugelp2.animationSpeed = 5; // set animation speed (32 is default value)
gaugelp2.set(0); // set actual value
/////////////////////////
var opts = {
  angle: 0, // The span of the gauge arc
  lineWidth: 0.08, // The line thickness
  radiusScale: 0.5, // Relative radius
  pointer: {
    length: 0.6, // // Relative to gauge radius
    strokeWidth: 0, // The thickness
    color: '#000000' // Fill color
  },
  limitMax: false,     // If false, max value increases automatically if value > maxValue
  limitMin: false,     // If true, the min value of the gauge will be fixed
  colorStart: '#6FADCF',   // Colors
  colorStop: '#8FC0DA',    // just experiment with them
  strokeColor: 'grey',  // to see which ones work best for you
  generateGradient: true,
percentColors: [[0.0, "#73c0FF" ], [1.0, "#0000FF"]],
		staticLabels: {
		font: "13px sans-serif",  // Specifies font
		labels: [0, 100],  // Print labels at these values
		color: "white",  // Optional: Label text color
		fractionDigits: 0  // Optional: Numerical precision. 0=round off.
		}, 
};
var targetlp2s = document.getElementById('lp2s'); // your canvas element
var gaugelp2s = new Gauge(targetlp2s).setOptions(opts); // create sexy gauge!
gaugelp2s.maxValue = 100; // set max gauge value
gaugelp2s.setMinValue(0);  // Prefer setter over gauge.minValue = 0
gaugelp2s.animationSpeed = 5; // set animation speed (32 is default value)
gaugelp2s.set(70); // set actual value



var doInterval;
function getfile() {
	$.ajaxSetup({ cache: false});
 $.ajax({
    url: "/openWB/ramdisk/wattbezug",
    complete: function(request){
	    var wattbezug = request.responseText;
	    var intbezug = parseInt(wattbezug, 10);
	    gauge.set(wattbezug);
	    if (intbezug > 0) {
		    $("#evut").html(request.responseText + " W<br>Bezug");
	    } else {
		wattbezug = wattbezug * -1; 
		$("#evut").html(wattbezug + " W<br>Einspeisung");
   
	    };
    }
  });
 $.ajax({
    url: "/openWB/ramdisk/pvwatt",
    complete: function(request){
	    var pvwatt = request.responseText;
	    pvwatt = pvwatt * -1;
		gaugepv.set(pvwatt);
		$("#pvt").html(pvwatt + " W");
	
    }
  });
 $.ajax({
    url: "/openWB/ramdisk/speicherleistung",
    complete: function(request){
	    var speicherwatt = request.responseText;
		gaugespeicher.set(speicherwatt);
		if ( speicherwatt > 0) {
			$("#speichert").html(request.responseText + " W<br>Ladung");
		} else {
			speicherwatt = speicherwatt * -1;
			$("#speichert").html(speicherwatt + " W<br>Entladung");
		}


    }
  });
 $.ajax({
    url: "/openWB/ramdisk/speichersoc",
    complete: function(request){
	    var speichers = request.responseText;
		gaugespeichers.set(speichers);
		$("#speicherst").html(request.responseText + "%");
    }
  });
 $.ajax({
    url: "/openWB/ramdisk/hausverbrauch",
    complete: function(request){
	    var hausverbrauch = request.responseText;
		gaugehaus.set(hausverbrauch);
		$("#haust").html(request.responseText + " W");
    }
  });
 $.ajax({
    url: "/openWB/ramdisk/llaktuell",
    complete: function(request){
	    var lp1w = request.responseText;
		gaugelp1.set(lp1w);
		$("#lp1t").html(request.responseText + " W");
    }
  });
 $.ajax({
    url: "/openWB/ramdisk/llaktuells1",
    complete: function(request){
	    var lp2w = request.responseText;
		gaugelp2.set(lp2w);
		$("#lp2t").html(request.responseText + " W");

    }
  });
 $.ajax({
    url: "/openWB/ramdisk/soc",
    complete: function(request){
	    var lp1s = request.responseText;
		gaugelp1s.set(lp1s);
		$("#lp1st").html(request.responseText + "%");
    }
  });
 $.ajax({
    url: "/openWB/ramdisk/soc1",
    complete: function(request){
	    var lp2s = request.responseText;
		gaugelp2s.set(lp2s);
		$("#lp2st").html(request.responseText + "%");
    }
  });

}




doInterval = setInterval(getfile, 10000);
getfile();
//setInterval(function(){gauge.set(wattbezug)}, 200)
	</script>


  <script>
var stop = 0;
var sofort = 0;
var standby = 0;
var nurpv = 0;
var minpv = 0;
var lock = 0;
$(document).ready(function(){



   $('.1stop').click(function(){
	   if ( lock == 0 ) {
		if ( displaypinaktiv == 1){
			$('#pin').show();
			lock = 1;
	   	        stop = 1;
		} else {
			execstop();
		}
	   }
});
   $('.1sofort').click(function(){
	   if ( lock == 0 ) {
	   if ( displaypinaktiv == 1){
	   	$('#pin').show();
		lock = 1;
	        sofort = 1;
		} else {
			execsofort();
		}
	   }
});
   $('.1standby').click(function(){
	   if ( lock == 0 ) {
	   if ( displaypinaktiv == 1){
	   	$('#pin').show();
		lock = 1;
                standby = 1;
	   } else {
		execstandby();
	   }
	   }
});
   $('.1nurpv').click(function(){
	   if ( lock == 0 ) {
		if ( displaypinaktiv == 1){
   		   lock = 1;
	   	nurpv = 1;
		$('#pin').show();
		} else {
			execnurpv();
		}
	   }
});
   $('.1minpv').click(function(){
	   if ( lock == 0 ) {
		if ( displaypinaktiv == 1){
			lock = 1;
	   		minpv = 1;
			$('#pin').show();
		
		} else {
			execminpv();
		}
	   }
	   });

});
(function () {
  var input = '',
  correct = displaypincode.toString().substr(0, 4);

  var dots = document.getElementsByClassName('dot'),
  numbers = document.getElementsByClassName('number');
  dots = Array.from(dots);
  numbers = Array.from(numbers);

  var numbersBox = document.getElementsByClassName('numbers')[0];
  $(numbersBox).on('click', '.number', function (evt) {
    var number = $(this);

    input += number.index() + 1;
    $(dots[input.length - 1]).addClass('active');

    if (input.length >= 4) {
      if (input !== correct) {
        dots.forEach(dot => $(dot).addClass('wrong'));
	$(document.body).addClass('wrong');
        setTimeout(function(){  
	        $('#pin').hide(); 
        }, 1400);
	lock = 0;
      } else
      {
        dots.forEach(dot => $(dot).addClass('correct'));
        $(document.body).addClass('correct');
	if ( stop == 1 ) {
		stop = 0;
		execstop();
	}
	if ( sofort == 1 ) {
		sofort = 0;
		execsofort();

	}
	if ( standby == 1 ) {
		standby = 0;
		execstandby();
	}
	if ( nurpv == 1 ) {
		nurpv = 0;
		execnurpv();
	}
	if ( minpv == 1 ) {
		minpv = 0;
		execminpv();
	}
	setTimeout(function(){  
	        $('#pin').hide(); 
        }, 1400);
	lock = 0;
      }
      setTimeout(function () {
        dots.forEach(dot => dot.className = 'dot');
        input = '';
      }, 900);
      setTimeout(function () {
        document.body.className = '';
      }, 1000);
    }
    setTimeout(function () {
      number.className = 'number';
    }, 1000);
  });
})();
  </script>


</body>
</html>
